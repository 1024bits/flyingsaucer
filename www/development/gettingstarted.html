<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Untitled Document</title>
<link href="../base.css" rel="stylesheet" type="text/css">
</head>

<body>
<div id="fs">

<ul id="menu">
    <li><a href="index.html">Info on CVS version</a></li>
</ul>

<h1>Getting Started with Flying Saucer
</h1>

<p>Note that Flying Saucer is still under intensive development and the way to use it may still change.
However, the simple use of <code>BasicPanel</code> and <code>XHTMLPanel</code> should be fairly stable</p>

<p>Please give feedback and help us improve the usability of Flying Saucer</p>

<ul>
<li><a href="#show_page">The Basics: Showing a Page</a></li>
<li><a href="#user_agent">Getting control of loading data - <code>UserAgentCallback</code></a></li>
<li><a href="#handling_documents">Handling different document types - <code>NamespaceHandler</code></a></li>
</ul>

<h2><a name="show_page"></a>The Basics: Showing a Page</h2>
<p>If you just want to show a webpage in your application then  start
  with the <code>XHTMLPanel</code>, in <code>org.xhtmlrenderer.swing</code>. Here is a simple example: </p>
<pre>import javax.swing.*;
import org.xhtmlrenderer.simple.XHTMLPanel;
public class test {
   public static void main(String[] args) throws Exception {
       
      XHTMLPanel panel = new XHTMLPanel();
      panel.setDocument("test.xhtml");
   
      JScrollPane scroll = new JScrollPane(panel);
   
      JFrame frame = new JFrame();
      frame.getContentPane().add(scroll);
      frame.pack();
      frame.setSize(400,400);
      frame.setVisible(true);
   }   
}
</pre>
<p><br>
    First create an XHTMLPanel and set it's preferred size. Call <code>setDocument()</code>  to set the path of
    the xhtml file that should be displayed (relative to the current working directory). Then drop it into a 
    <code>JScrollPane</code> and add the pane to a <code>JFrame</code>.</p>
<p>To show a css-styled xml document with no default css, use the <code>org.xhtmlrender.swing.BasicPanel</code> instead</p>
    
<div>
<h2><a name="user_agent"></a>Getting control of loading data - <code>UserAgentCallback</code></h2>
<p>  Loading of documents, stylesheets and images is under the control of the user agent (i.e. your code).
</p>
<p>  To get control of these things you need to implement the <code>org.xhtmlrenderer.extend.UserAgentCallback</code> interface
and pass it to the constructor of one of the panels or your extension of a panel.
</p>
<p>  By default, the panels use <code>org.xhtmlrenderer.swing.NaiveUserAgent</code> which just loads everything.
If you wish, you may of course extend this class and override the stuff that you care about.
</p>
<p>To build a general web-browser, you will need to make an implementation that converts crappy html to good xml.
Then you should probably make a <code>NamespaceHandler</code> (see below) to turn html styling attributes into css element styles.
Alternatively, the document could first be converted to good css-styled xhtml.
</p>
</div>
  
<div>
<h2><a name="handling_documents"></a>Handling different document types - <code>NamespaceHandler</code></h2>
<p>  The Flying Saucer xhtmlrenderer in its basic form just renders xml styled with css.
The stylesheet is obtained from an &lt;?xml-stylesheet?&gt; processing-instruction.
There is no inherent knowledge of the document type, other than what is known about xml as such.
</p>
<p>Knowledge about a document type is provided through the NamespaceHandler interface.
An implementation of this interface may be provided in the method <code>public void setDocument(Document doc, URL url, NamespaceHandler nsh)</code>
</p>
<p>The <code>BasicPanel</code> will by default use the <code>org.xhtmlrenderer.swing.NoNamespaceHandler</code> implementation.
</p>
<p>The <code>XHTMLPanel</code> will by default use the <code>org.xhtmlrenderer.simple.extend.XhtmlNamespaceHandler</code> implementation.
</p>
<p>The provided <code>NamespaceHandler</code> will be able to provide a JComponent to replace any element.
At the time of this writing the element needs to have a display property set to "inline-block" for this to work.
Anyway, with the right <code>NamespaceHandler</code> and <code>UserAgentCallback</code>, you could do just about anything,
like, for example, make a XUL implementation on top of Flying Saucer.
</p>
</div>
</body>
</html>
